!function e(t,r,n){function i(a,o){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e["default"]:e},r=t(e("react/addons")),n=t(e("./components/App"));e("whatwg-fetch"),r.render(r.createElement(n,null),document.getElementById("content"))},{"./components/App":5,"react/addons":"react/addons","whatwg-fetch":"whatwg-fetch"}],2:[function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},i=n(e("reflux")),s=e("./api/pictures").add,a=i.createActions({add:{asyncResult:!0}});a.add.listenAndPromise(s),r.PicturesActions=a,Object.defineProperty(r,"__esModule",{value:!0})},{"./api/pictures":3,reflux:"reflux"}],3:[function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},i=n(e("is_js")),s=function(e){return new Promise(function(t,r){return fetch("https://image-proxying.herokuapp.com/base64?url="+e).then(function(e){i.not.within(e.status,199,299)?e.json().then(r):t(e.json())})})};r.add=s,Object.defineProperty(r,"__esModule",{value:!0})},{is_js:"is_js"}],4:[function(e,t){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},n=r(e("is_js")),i=r(e("react/addons")),s=r(e("reflux")),a=e("../actions").PicturesActions;t.exports=i.createClass({displayName:"AddPictureForm",mixins:[i.addons.PureRenderMixin,i.addons.LinkedStateMixin,s.listenTo(a.add.failed,"onAddFailed"),s.listenTo(a.add.completed,"onAddCompleted")],getInitialState:function(){return{imageUrl:null,errorMessage:null}},handleSubmit:function(e){e.preventDefault(),a.add(this.state.imageUrl)},onAddCompleted:function(){this.setState({errorMessage:null})},onAddFailed:function(e){var t=(e||{}).error||"without any reason";this.setState({errorMessage:t})},render:function(){return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-offset-4"},i.createElement("form",{className:"form-inline",role:"form",onSubmit:this.handleSubmit},i.createElement("div",{className:"form-group"},i.createElement("input",{type:"text",placeholder:"URL",required:"true",className:"form-control",valueLink:this.linkState("imageUrl")})),"  ",i.createElement("input",{type:"submit",value:"Load!",className:"btn btn-lg btn-primary"})))," ",n.existy(this.state.errorMessage)?i.createElement("div",{className:"alert alert-danger",role:"alert"},i.createElement("strong",null,"Failed to request image: ",this.state.errorMessage)):null)}})},{"../actions":2,is_js:"is_js","react/addons":"react/addons",reflux:"reflux"}],5:[function(e,t){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},n=r(e("react/addons")),i=r(e("reflux")),s=r(e("./Picture")),a=r(e("./AddPictureForm")),o=r(e("../stores/pictures-store"));t.exports=n.createClass({displayName:"App",mixins:[n.addons.PureRenderMixin,i.connect(o,"picture")],render:function(){return n.createElement("div",null,n.createElement("div",{className:"page-header"},n.createElement(a,null)),n.createElement(s,{image:this.state.picture}))}})},{"../stores/pictures-store":8,"./AddPictureForm":4,"./Picture":6,"react/addons":"react/addons",reflux:"reflux"}],6:[function(e,t){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},n=r(e("is_js")),i=r(e("react/addons")),s=r(e("immutable"));t.exports=i.createClass({displayName:"Picture",mixins:[i.addons.PureRenderMixin],propTypes:{image:i.PropTypes.instanceOf(s.Record)},getDefaultProps:function(){return{image:null}},getInitialState:function(){return{show:n.existy(this.props.image)}},componentWillReceiveProps:function(e){this.setState({show:n.existy(e.image)})},render:function(){return this.state.show?this._image():this._howTo()},_image:function(){return i.createElement("img",{alt:"Loaded image",className:"img-responsive center",src:this.props.image.base64})},_howTo:function(){return i.createElement("p",{className:"lead"},"Nothing to show...")}})},{immutable:"immutable",is_js:"is_js","react/addons":"react/addons"}],7:[function(e,t){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},n=r(e("immutable"));t.exports=n.Record({url:null,base64:null},"Picture")},{immutable:"immutable"}],8:[function(e,t){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},n=r(e("reflux")),i=e("../actions").PicturesActions,s=r(e("../models/picture"));t.exports=n.createStore({listenables:[i],init:function(){this.picture=null},getInitialState:function(){return this.picture},onAddCompleted:function(e){this.trigger(new s(e))}})},{"../actions":2,"../models/picture":7,reflux:"reflux"}]},{},[1]);